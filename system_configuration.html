<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>System Configuraiton &mdash; RT Retrieval Framework  documentation</title>
    
    <link rel="stylesheet" href="_static/better.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="RT Retrieval Framework  documentation" href="index.html" />
    <link rel="next" title="Compilation" href="compilation.html" />
    <link rel="prev" title="Setup" href="setup.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  </head>
  <body role="document">
    <header id="pageheader"><h1><a href="index.html ">
        RT Retrieval Framework  documentation
    </a></h1></header>
  <div class="related top">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="setup.html" title="Previous document">Setup</a>
        </li>
        <li>
          <a href="compilation.html" title="Next document">Compilation</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="index.html">Home</a></li> 
    </ul>
  </nav>
  </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="system-configuraiton">
<h1>System Configuraiton<a class="headerlink" href="#system-configuraiton" title="Permalink to this headline">¶</a></h1>
<div class="section" id="memory-requirements">
<h2>Memory Requirements<a class="headerlink" href="#memory-requirements" title="Permalink to this headline">¶</a></h2>
<p>Make sure your system has at least 2.5G of memory (including swap) available or else compilation may fail unexpectedly.</p>
</div>
<div class="section" id="python-requirements">
<h2>Python Requirements<a class="headerlink" href="#python-requirements" title="Permalink to this headline">¶</a></h2>
<p>The Python bindings to the framework and support Python programs require the following Python packages. Most likely your Linux distribution already has packages available using it&#8217;s respective package management tool. Otherwise, use the following links for details on installing each package:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.scipy.org/scipylib/download.html">Numpy/Scipy</a></li>
<li><a class="reference external" href="http://matplotlib.sourceforge.net/users/installing.html">Matplotlib</a></li>
<li><a class="reference external" href="http://h5py.alfven.org/docs/guide/build.html">h5py</a></li>
<li><a class="reference external" href="http://www.dabeaz.com/ply/">PLY (Python Lex-Yacc)</a></li>
<li><a class="reference external" href="http://readthedocs.org/docs/nose/en/latest/">nosetests</a></li>
</ul>
<p>Optionally you may want to have the following Python packages installed to use some of the less commonly used utilities:</p>
<ul class="simple">
<li><a class="reference external" href="http://code.google.com/p/pyproj/">pyproj</a></li>
<li><a class="reference external" href="http://pypi.python.org/pypi/pyephem/">pyephem</a></li>
</ul>
</div>
<div class="section" id="fortran-compilers">
<h2>Fortran Compilers<a class="headerlink" href="#fortran-compilers" title="Permalink to this headline">¶</a></h2>
<p>One of the following Fortran compilers is required for compiling:</p>
<ul class="simple">
<li><a class="reference external" href="http://gcc.gnu.org/fortran/">GNU Fortran</a> &#8211; 4.5 or greater</li>
<li><a class="reference external" href="http://software.intel.com/en-us/intel-compilers/">Intel Fortran Compiler</a>  &#8211; 11.1 or newer</li>
</ul>
</div>
<div class="section" id="linux-system-setup">
<h2>Linux System Setup<a class="headerlink" href="#linux-system-setup" title="Permalink to this headline">¶</a></h2>
<div class="section" id="gentoo-deployment-steps">
<h3>Gentoo Deployment Steps<a class="headerlink" href="#gentoo-deployment-steps" title="Permalink to this headline">¶</a></h3>
<p>Install gdb if you would like to use that, it is not installed by default:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> emerge -av gdb
</pre></div>
</div>
<p>If you do not already have Subversion installed:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> emerge -av subversion
</pre></div>
</div>
<p>Install scripting languages and required supporting packages needed by the build process:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> emerge -av ruby rubygems
</pre></div>
</div>
<p>The Ruby narray package is also required, but may only be available in the Gentoo testing branch. If you have not enabled testing for your architecture you would have to do the follow (if your architecture is amd64):</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">echo</span> <span class="s1">&#39;ACCEPT_KEYWORDS=&quot;~amd64&quot;&#39;</span> &gt; /etc/make.conf
<span class="gp">$</span> emerge -av narray
</pre></div>
</div>
<p>We also require the installation of Python but by default Gentoo satisfies that through the eselect-python package. Note that emerging the dev-lang/python will install Python 3.x which is not yet used by our software.</p>
<p>Install Python packages for support utils:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> emerge -av numpy
<span class="gp">$</span> emerge -av h5py
<span class="gp">$</span> emerge -av ply
</pre></div>
</div>
<p>Follow <a class="reference internal" href="setup.html"><em>Setup</em></a> steps.</p>
<p>Compile according to <a class="reference internal" href="compilation.html"><em>Compilation</em></a> instructions for a Non JPL Build.</p>
</div>
<div class="section" id="fedora-centos-deployment-steps">
<h3>Fedora/CentOS Deployment Steps<a class="headerlink" href="#fedora-centos-deployment-steps" title="Permalink to this headline">¶</a></h3>
<p>Under CentOS you may need to update to a newer version of gcc/gfortran. CentoOS is conservative with GCC updates and keep newer versions in separate packages:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> yum install gcc44 gcc44-gfortran gcc44-c++
</pre></div>
</div>
<p>Fedora has the latest GCC in the default packages:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> yum install gcc gcc-gfortran gcc-c++
</pre></div>
</div>
<p>A Fedora minimal system will also need the following:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> yum install make automake patch zlib-devel bzip2-devel
</pre></div>
</div>
<p>If you do not already have Subversion installed:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> yum install subversion
</pre></div>
</div>
<p>Install scripting languages needed by build process:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> yum install python ruby
</pre></div>
</div>
<p>Install ruby development packages needed for using gem to install ruby packages:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> yum install ruby-devel
</pre></div>
</div>
<p>For Fedora install the rubygems package:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> yum install rubygems
</pre></div>
</div>
<p>For CentOS (also possibly Redhat) install rubygems from source. Get the latest package from the <a class="reference external" href="http://rubygems.org/pages/download">RubyGems.org</a> website then install:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> tar zfvx rubygems-X.X.X.tgz
<span class="gp">$</span> <span class="nb">cd</span> rubygems-X.X.X
<span class="gp">$</span> ruby setup.rb
</pre></div>
</div>
<p>Note that the latest version of Ruby Gems might not work with CentOS&#8217;s Ruby version. You may need to try earlier version.</p>
<p>For CentOS also install:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> yum install ruby-rdoc
</pre></div>
</div>
<p>Use rubygems to install narray:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> gem install narray
</pre></div>
</div>
<p>Follow <a class="reference internal" href="setup.html"><em>Setup</em></a> steps.</p>
<p>Compile according to <a class="reference internal" href="compilation.html"><em>Compilation</em></a> instructions for a Non JPL Build.</p>
</div>
<div class="section" id="ubuntu-debian-deployment-steps">
<h3>Ubuntu/Debian Deployment Steps<a class="headerlink" href="#ubuntu-debian-deployment-steps" title="Permalink to this headline">¶</a></h3>
<p>Install automake if you plan on developing the code and need to update the Makefile after adding files:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> apt-get install automake
</pre></div>
</div>
<p>Most other distributions provide gfortran along with gcc, but Ubuntu keeps it in separate packages. Install gfortran if not already installed:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> apt-get install gfortran
</pre></div>
</div>
<p>Install gdb if you would like to use that, it is not installed by default:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> apt-get install gdb
</pre></div>
</div>
<p>If you do not already have Subversion installed:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> apt-get install subversion
</pre></div>
</div>
<p>Install scripting languages and required supporting packages needed by build process:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> apt-get install python ruby rubygems libnarray-ruby
</pre></div>
</div>
<p>Install system library headers that are not installed by default:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> apt-get install libz-dev libbz2-dev
</pre></div>
</div>
<p>Install Python packages needed for support and operation tools:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> apt-get install python-ply python-h5py
</pre></div>
</div>
<p>Follow <a class="reference internal" href="setup.html"><em>Setup</em></a> steps.</p>
<p>Compile according to <a class="reference internal" href="compilation.html"><em>Compilation</em></a> instructions for a Non JPL Build.</p>
</div>
<div class="section" id="opensuse-deployment-steps">
<h3>OpenSuSE Deployment Steps<a class="headerlink" href="#opensuse-deployment-steps" title="Permalink to this headline">¶</a></h3>
<p>Install development packages using development patterns:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> zypper install -t pattern devel_C_C++ devel_basis devel_ruby
</pre></div>
</div>
<p>Install gfortran if not already installed:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> zypper install gcc-fortran
</pre></div>
</div>
<p>If you do not already have Subversion installed:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> zypper install subversion
</pre></div>
</div>
<p>Install Ruby support packages:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> gem install narray
</pre></div>
</div>
<p>Install system library headers that are not installed by default:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> zypper install zlib-devel libbz2-devel
</pre></div>
</div>
<p>Follow <a class="reference internal" href="setup.html"><em>Setup</em></a> steps.</p>
<p>Compile according to <a class="reference internal" href="compilation.html"><em>Compilation</em></a> instructions for a Non JPL Build.</p>
</div>
</div>
<div class="section" id="os-x-system-setup">
<h2>OS X System Setup<a class="headerlink" href="#os-x-system-setup" title="Permalink to this headline">¶</a></h2>
<p>The following instructions are intended for those attempting to deploy on a Mac OS X system.</p>
<div class="section" id="select-macport-or-fink">
<h3>Select MacPort or Fink<a class="headerlink" href="#select-macport-or-fink" title="Permalink to this headline">¶</a></h3>
<p>Additional tools are needed on the Mac to build. There are two different projects that supply these tools, Macport and Fink. The two projects are similar, it is a matter of preference which one you select. If you don&#8217;t otherwise care, then use MacPort, it is what was used during development.</p>
</div>
<div class="section" id="macport">
<h3>MacPort<a class="headerlink" href="#macport" title="Permalink to this headline">¶</a></h3>
<p>If you select MacPort, then follow the directions in this section.</p>
<div class="section" id="install-macport">
<h4>Install MacPort<a class="headerlink" href="#install-macport" title="Permalink to this headline">¶</a></h4>
<p>Look at <a class="reference external" href="http://www.macports.org/install.php">http://www.macports.org/install.php</a> for directions on installing macport.</p>
</div>
<div class="section" id="install-packages">
<h4>Install Packages<a class="headerlink" href="#install-packages" title="Permalink to this headline">¶</a></h4>
<p>Install packages using port:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo port install gcc44 python27 py27-ipython hdf5-18 boost gsl
</pre></div>
</div>
</div>
<div class="section" id="configuration">
<h4>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h4>
<p>The configuration is slightly tricky, if you want to have python working. The issue is that you need to use the same version of gcc and g+ used to create python, while at the same time using a different version of gfortran. The configuration used in development is:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> .../configure <span class="se">\</span>
<span class="go">    FCLIBS=&quot;/opt/local/lib/gcc44/gcc/x86_64-apple-darwin10/4.4.5/libgfortranbegin.a \</span>
<span class="go">    /opt/local/lib/gcc44/libgfortran.dylib&quot; \</span>
<span class="go">    FC=/opt/local/bin/gfortran-mp-4.4 F77=/opt/local/bin/gfortran-mp-4.4 \</span>
<span class="go">    --with-python-swig --with-lidort=build --with-cppad=build --with-blitz=build</span>
</pre></div>
</div>
<p>Note the &#8220;FCLIBS&#8221; - this is required. This works around splitting between different versions for g+ and gfortran. Without this, the python library will use the libstdc+ coming from g+-4.4, not the system one. This results in fairly obscure memory errors when std::string from one version of g is passed to a library expecting a different version.</p>
<p>Note that the strict requirement on the compiler is only needed for building the python wrappers. If you don&#8217;t care about the wrappers, you can leave off the FCLIBS and use the same version for gfortran and for g+ and gcc. For nonpython development, the configuration we used is:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> .../configure <span class="nv">THIRDPARTY</span><span class="o">=</span>build <span class="nv">FC</span><span class="o">=</span>/opt/local/bin/gfortran-mp-4.4 <span class="se">\</span>
<span class="go">    CXX=/opt/local/bin/g++-mp-4.4 \</span>
<span class="go">    CC=/opt/local/bin/gcc-mp-4.4 F77=/opt/local/bin/gfortran-mp-4.4 \</span>
<span class="go">    --enable-debug --enable-maintainer-mode</span>
</pre></div>
</div>
<p>In this case, we build all the thirdparty libraries rather than using the system versions, this is needed so that a consistent compiler is used for things link HDF5 and BOOST.</p>
</div>
</div>
<div class="section" id="fink">
<h3>Fink<a class="headerlink" href="#fink" title="Permalink to this headline">¶</a></h3>
<p>If you select Fink, then follow the directions in this section.</p>
<div class="section" id="upgrade-xcode">
<h4>Upgrade Xcode<a class="headerlink" href="#upgrade-xcode" title="Permalink to this headline">¶</a></h4>
<p>Upgrade to Xcode 3.1.x for 10.5, 3.2.x for 10.6 from Apple Developers Connection. Go to the <a class="reference external" href="http://connect.apple.com/">Developer Connection</a> member site then select downloads to find the desired Xcode version.</p>
<p>Xcode needs to be upgraded so that Fink dependencies can be meet otherwise an error like this will show up:
&#8220;xcode (&gt;= 3.1.2)&#8221; for package &#8220;gcc44-4.4.1-1000&#8221;</p>
</div>
<div class="section" id="install-fink">
<h4>Install Fink<a class="headerlink" href="#install-fink" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://www.finkproject.org/download/">Download Fink</a> and follow instructions: <a class="reference external" href="http://www.finkproject.org/download/index.php?phpLang=en">http://www.finkproject.org/download/index.php?phpLang=en</a></p>
</div>
<div class="section" id="enable-fink-unstable">
<h4>Enable Fink Unstable<a class="headerlink" href="#enable-fink-unstable" title="Permalink to this headline">¶</a></h4>
<p>Enable fink unstable packages according to these instructions: <a class="reference external" href="http://www.finkproject.org/faq/usage-fink.php?phpLang=en#unstable">http://www.finkproject.org/faq/usage-fink.php?phpLang=en#unstable</a></p>
</div>
<div class="section" id="install-fink-packages">
<h4>Install Fink Packages<a class="headerlink" href="#install-fink-packages" title="Permalink to this headline">¶</a></h4>
<p>Install free Fortran compilers:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> fink install g77 g95
</pre></div>
</div>
<p>Install Python packages:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> fink install python27 numpy-py27 h5py-py27 matplotlib-py27 scipy-py27 ipython-py27
</pre></div>
</div>
<p>Since we are using the Fink unstable repository everything comes from source and the compilation which includes many dependencies can takes a fair amount of time.</p>
<p>As a consequence of the dependencies of the above packages the latest GCC is installed and hence gfortran will also be available.</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">System Configuraiton</a><ul>
<li><a class="reference internal" href="#memory-requirements">Memory Requirements</a></li>
<li><a class="reference internal" href="#python-requirements">Python Requirements</a></li>
<li><a class="reference internal" href="#fortran-compilers">Fortran Compilers</a></li>
<li><a class="reference internal" href="#linux-system-setup">Linux System Setup</a><ul>
<li><a class="reference internal" href="#gentoo-deployment-steps">Gentoo Deployment Steps</a></li>
<li><a class="reference internal" href="#fedora-centos-deployment-steps">Fedora/CentOS Deployment Steps</a></li>
<li><a class="reference internal" href="#ubuntu-debian-deployment-steps">Ubuntu/Debian Deployment Steps</a></li>
<li><a class="reference internal" href="#opensuse-deployment-steps">OpenSuSE Deployment Steps</a></li>
</ul>
</li>
<li><a class="reference internal" href="#os-x-system-setup">OS X System Setup</a><ul>
<li><a class="reference internal" href="#select-macport-or-fink">Select MacPort or Fink</a></li>
<li><a class="reference internal" href="#macport">MacPort</a><ul>
<li><a class="reference internal" href="#install-macport">Install MacPort</a></li>
<li><a class="reference internal" href="#install-packages">Install Packages</a></li>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fink">Fink</a><ul>
<li><a class="reference internal" href="#upgrade-xcode">Upgrade Xcode</a></li>
<li><a class="reference internal" href="#install-fink">Install Fink</a></li>
<li><a class="reference internal" href="#enable-fink-unstable">Enable Fink Unstable</a></li>
<li><a class="reference internal" href="#install-fink-packages">Install Fink Packages</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="setup.html"
                        title="previous chapter">Setup</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="compilation.html"
                        title="next chapter">Compilation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/system_configuration.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<form class="search" action="search.html" method="get">
  <input type="text" name="q"
   placeholder="type to search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="related bottom">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="setup.html" title="Previous document">Setup</a>
        </li>
        <li>
          <a href="compilation.html" title="Next document">Compilation</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="index.html">Home</a></li> 
    </ul>
  </nav>
  </div>
  <footer id="pagefooter">&copy; Copyright 2016 California Institute of Technology. U.S. Government sponsorship acknowledged.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a>
      1.3.6
        with the <a href="http://github.com/irskep/sphinx-better-theme">
          better</a> theme.

  </footer>

  
  </body>
</html>